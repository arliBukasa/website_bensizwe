<odoo>
    <data>
        <template id="inscription_formation" name="Inscription Formation">
            <t t-call="website.layout">
                <div id="wrap" class="oe_structure oe_empty">
                    <!-- HEADER IMAGE -->
                    <section class="s_text_block o_colored_level o_cc o_cc3 pb4 pt16" style="background-image: none;">
                        <div class="s_allow_columns container">
                            <p style="text-align: left;">
                                <strong>
                                    <span style="font-size: 36px;">
                                        <t t-esc="formation.name"/>
                                    </span>
                                </strong>
                            </p>
                            <p style="text-align: left; color: rgb(77, 213, 254);">
                                Du <t t-esc="formation.date_start"/> au <t t-esc="formation.date_end"/>
                            </p>
                            <p style="text-align: left;">
                                <t t-esc="formation.cout"/> $
                            </p>
                        </div>
                    </section>

                    <!-- CONTENU FORMATION -->
                    <section class="s_text_image o_colored_level pb0 pt40" style="background-image: none;">
                        <div class="container">
                            <div class="row align-items-start">
                                <!-- DESCRIPTION -->
                                <div class="pt16 pb0 col-lg-7">

                                    <!-- Vidéo de présentation YouTube -->
                                    <t t-if="formation.video_url">
                                        <div class="mb-4">
                                            <div class="d-flex align-items-center mb-3">
                                                <i class="fa fa-play-circle text-primary me-2" style="font-size: 20px;"></i>
                                                <h5 class="mb-0 text-primary">
                                                    <strong>Aperçu de la formation</strong>
                                                </h5>
                                            </div>
                                            <div class="video-container position-relative" style="border-radius: 15px; overflow: hidden; box-shadow: 0 4px 15px rgba(0,0,0,0.1);">
                                                <div class="embed-responsive embed-responsive-16by9">
                                                    <iframe 
                                                        class="embed-responsive-item" 
                                                        t-att-src="formation.video_url + ('&amp;autoplay=1&amp;mute=1' if '?' in formation.video_url else '?autoplay=1&amp;mute=1')"
                                                        allowfullscreen="1" 
                                                        allow="autoplay; encrypted-media"
                                                        loading="lazy"
                                                        style="width:100%; height:400px; border:none;">
                                                    </iframe>
                                                </div>
                                                <t t-if="formation.video_url">
                                                    <div class="pt16 pb16 o_colored_level col-lg-12" style="border-radius:15px;">
                                                        <div class="media_iframe_video mx-auto" data-oe-expression="//www.youtube.com/embed/Q00H6xrYTOw?autoplay=1&amp;mute=1&amp;enablejsapi=1&amp;rel=0&amp;loop=1&amp;playlist=Q00H6xrYTOw&amp;controls=0" style="border-radius:15px;">
                                                            <div class="css_editable_mode_display">&amp;nbsp;</div>
                                                            <div class="media_iframe_video_size">&amp;nbsp;</div>
                                                            <iframe t-att-src="formation.video_url + ('?autoplay=1&amp;mute=1&amp;enablejsapi=1&amp;rel=0&amp;loop=1&amp;playlist=Q00H6xrYTOw&amp;controls=0')" frameborder="0" allowfullscreen="allowfullscreen"/>
                                                        </div>
                                                    </div>
                                                </t>
                                            </div>
                                        </div>
                                    </t>
                                     <!-- block -->
                                        <t t-if="formation.pourquoi_suivre">
                                            <div style="margin:20px; padding:10px; border-radius:15px;">
                                                <h3>
                                                    <strong>
                                                        <span style="font-size: 20px;">Pourquoi suivre formation?</span>
                                                    </strong>
                                                </h3>
                                                <p>
                                                    <strong>
                                                        <span style="font-size: 18px;">
                                                            <t t-raw="formation.pourquoi_suivre"/>
                                                        </span>
                                                    </strong>
                                                </p>
                                            </div>
                                        </t>
                                        <!-- block -->
                                        <t t-if="formation.objectifs">
                                            <div style="margin:20px; padding:10px; border-radius:15px;">
                                                <h3>
                                                    <strong>
                                                        <span style="font-size: 20px;">Objectifs de la formation</span>
                                                    </strong>
                                                </h3>
                                                <p>
                                                    <strong>
                                                        <span style="font-size: 18px;">
                                                            <t t-raw="formation.objectifs"/>
                                                        </span>
                                                    </strong>
                                                </p>
                                            </div>
                                        </t>

                                    <h3>
                                        <strong>
                                            <span style="font-size: 44px;">Ce que vous allez apprendre</span>
                                        </strong>
                                    </h3>
                                    <div style="margin:20px; padding:20px; border-radius:15px; border:2px solid rgb(168, 164, 164);">
                                        <strong>
                                            <span style="font-size: 18px;">
                                                <t t-raw="formation.description_html"/>
                                            </span>
                                        </strong>
                                    </div>
                                </div>

                                <!-- CARTE FORMATION -->
                                <div class="pb0 pt0 col-lg-4" style="border-color: rgb(168, 164, 164);">
                                    <div class="col-md-12 mb-4 text-center">
                                        <a t-att-href="'#'" class="text-decoration-none" style="width: 100%;">
                                            <div class="card shadow-sm">
                                                <!-- <img class="card-img-top w-100" t-att-src="formation.header or ''" alt="Image formation" style="object-fit: cover; border-top-left-radius: 0.25rem; border-top-right-radius: 0.25rem;"/>-->
                                                <img t-att-src="'data:image/png;base64,%s' % formation.header.decode() if formation.header else ''" class="card-img-top w-100" style="object-fit: cover; border-top-left-radius: 0.25rem; border-top-right-radius: 0.25rem;"/>
                                                <div class="card-body text-center">
                                                    <h4 class="card-title text-o-color-2">
                                                        <strong><t t-esc="formation.name"/></strong>
                                                    </h4>
                                                    <p class="card-text text-muted small text-600">
                                                        <strong>Du <t t-esc="formation.date_start"/> au <t t-esc="formation.date_end"/></strong>
                                                    </p>
                                                    <h4>
                                                        <strong class="text-o-color-2">
                                                            <t t-esc="formation.cout"/> $
                                                        </strong>
                                                    </h4>
                                                </div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                            <!-- BOUTON s'inscrire vers système d'auth unifié -->
                            <div class="text-center mt-4">
                                <a t-att-href="'/formation/auth?formation_id=%s&amp;redirect=/formation/%s/register' % (formation.id, formation.id)"
                                   class="btn btn-primary btn-lg o_we_no_overlay o_not_editable"
                                   style="width: 300px; height: 60px; font-size: 20px;">
                                    S'inscrire à cette formation
                                </a>
                            </div>
                             <section class="s_text_block o_colored_level pb0 pt0" data-snippet="s_text_block" data-name="Text" style="background-image: none;">
                                <div class="s_allow_columns o_container_small">
                                    <p style="text-align: center;">
                                        <span style="font-size: 36px;">
                                            <strong>&amp;nbsp;Autres formations</strong>
                                        </span>
                                    </p>
                                </div>
                            </section>
                            <!-- BOUTONS CAROUSEL -->
                            <div class="d-flex justify-content-between mt-4">
                                <a class="carousel-control-prev o_not_editable o_we_no_overlay"
                                   id="prev_trainings"
                                   data-bs-slide="prev"
                                   role="img"
                                   aria-label="Précédent"
                                   title="Précédent"
                                   href="#myCarousel1742908695644">
                                    <span class="carousel-control-prev-icon btn-circle m-arrow-left" style="text-align: center;">
                                        <i class="carousel-control-prev-icon" style="margin-top:18px;"></i>
                                    </span>
                                    <span class="sr-only o_default_snippet_text">Précédent</span>
                                </a>
                                <a class="carousel-control-next o_not_editable o_we_no_overlay"
                                   id="next_trainings"
                                   data-bs-slide="next"
                                   role="img"
                                   aria-label="Suivant"
                                   title="Suivant"
                                   href="#myCarousel1742908695644">
                                    <span class="carousel-control-next-icon btn-circle m-arrow-right">
                                        <i class="carousel-control-next-icon" style="margin-top:18px;"></i>
                                    </span>
                                    <span class="sr-only o_default_snippet_text">Suivant</span>
                                </a>
                            </div>
                        </div>
                    </section>
                </div>

                <!-- Chargement des styles et scripts pour les fonctionnalités vidéo -->
                <link rel="stylesheet" type="text/css" href="/website_bensizwe/static/src/css/formation_video.css"/>
                <script type="text/javascript" src="/website_bensizwe/static/src/js/formation_video.js"></script>
            </t>
        </template>
    </data>
</odoo>
